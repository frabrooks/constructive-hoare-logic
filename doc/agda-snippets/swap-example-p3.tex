\begin{code}
  \>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{A₃}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaSpace{}%
\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{==}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{𝑐𝑜𝑛𝑠𝑡}\AgdaSpace{}%
\AgdaBound{𝒀}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∧}}\AgdaSpace{}%
\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{==}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{𝑐𝑜𝑛𝑠𝑡}\AgdaSpace{}%
\AgdaBound{𝑿}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaKeyword{with}\AgdaSpace{}%
\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{?id=}}\AgdaSpace{}%
\AgdaFunction{𝒙}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaKeyword{with}\AgdaSpace{}%
\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{?id=}}\AgdaSpace{}%
\AgdaFunction{𝒛}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaBound{q}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⊥-elim}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{𝒙≢𝒛}\AgdaSpace{}%
\AgdaBound{q}\AgdaSymbol{)}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[22]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaKeyword{with}\AgdaSpace{}%
\AgdaFunction{𝒛}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{?id=}}\AgdaSpace{}%
\AgdaFunction{𝒛}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaBound{p}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[22]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaBound{p}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[22]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[30]\AgdaBound{w}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⊥-elim}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{w}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{¬p}\AgdaSpace{}%
\AgdaKeyword{with}\AgdaSpace{}%
\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{?id=}}\AgdaSpace{}%
\AgdaFunction{𝒙}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[14]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{¬q}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⊥-elim}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{¬q}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[14]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaKeyword{with}\AgdaSpace{}%
\AgdaFunction{𝒛}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{?id=}}\AgdaSpace{}%
\AgdaFunction{𝒚}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[14]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaBound{w}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⊥-elim}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{𝒚≢𝒛}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaBound{w}\AgdaSymbol{))}\<%
\\
%
\>[5]\AgdaFunction{s₄}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[14]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}%
\>[30]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
  \>[5]\AgdaFunction{s₅}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
\AgdaFunction{A₂}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}%
\>[31]\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒛}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
\AgdaFunction{POST}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟫}}\<%
\\
%
\>[5]\AgdaFunction{s₅}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{D2-Rule-of-Composition}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{A₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{A₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{POST}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaFunction{s₂}\AgdaSpace{}%
\AgdaFunction{s₁}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\\[\AgdaEmptyExtraSkip]%
%
\>[5]\AgdaFunction{s₆}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
\AgdaFunction{A₃}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
\AgdaFunction{𝒛}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}%
\>[31]\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}%
\>[45]\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒛}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
\AgdaFunction{POST}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟫}}\<%
\\
%
\>[5]\AgdaFunction{s₆}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{D2-Rule-of-Composition}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{A₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{A₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{POST}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaFunction{s₃}\AgdaSpace{}%
\AgdaFunction{s₅}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[5]\AgdaFunction{∎}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
\AgdaFunction{PRE}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟫}}\AgdaSpace{}%
\AgdaFunction{𝒛}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}%
\>[31]\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}%
\>[45]\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{:=}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑣𝑎𝑙}\AgdaSpace{}%
\AgdaFunction{𝒛}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{;}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟪}}\AgdaSpace{}%
\AgdaFunction{POST}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟫}}\<%
\\
%
\>[5]\AgdaFunction{∎}\AgdaSpace{}%
\AgdaSymbol{=}%
\>[695I]\AgdaFunction{D1-Rule-of-Consequence-pre}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{A₃}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{swap}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{POST}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaFunction{PRE}\AgdaSymbol{\}}%
\>[62]\AgdaFunction{s₆}\AgdaSpace{}%
\AgdaFunction{go}\<%
\\
\>[695I][@{}l@{\AgdaIndent{0}}]%
\>[10]\AgdaKeyword{where}\<%
\\
%
\>[10]\AgdaFunction{go}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{PRE}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⇒}}\AgdaSpace{}%
\AgdaFunction{A₃}\<%
\\
%
\>[10]\AgdaFunction{go}\AgdaSpace{}%
\AgdaBound{s}\AgdaSpace{}%
\AgdaBound{x}%
\>[707I]\AgdaKeyword{rewrite}%
\>[708I]\AgdaFunction{ConjunctionComm}\<%
\\
\>[708I][@{}l@{\AgdaIndent{0}}]%
\>[27]\AgdaSymbol{(}\AgdaFunction{evalExp}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{𝒙}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{==}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑐𝑜𝑛𝑠𝑡}\AgdaSpace{}%
\AgdaBound{𝑿}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{s}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
%
\>[27]\AgdaSymbol{(}\AgdaFunction{evalExp}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{𝒚}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{==}}\AgdaSpace{}%
\AgdaInductiveConstructor{𝑐𝑜𝑛𝑠𝑡}\AgdaSpace{}%
\AgdaBound{𝒀}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{s}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
\>[.][@{}l@{}]\<[707I]%
\>[17]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(λ}\AgdaSpace{}%
\AgdaBound{p}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaBound{s}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊨}}\AgdaSpace{}%
\AgdaBound{p}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaFunction{s₄}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{x}\<%
\end{code}