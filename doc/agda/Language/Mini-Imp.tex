
\begin{code}%
\>[0]\<%
\\
\>[0]\AgdaComment{-- Lib imports}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Relation.Binary.PropositionalEquality}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{\AgdaUnderscore{}â‰¡\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Maybe}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaSpace{}%
\AgdaDatatype{Maybe}\AgdaSpace{}%
\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{just}\AgdaSpace{}%
\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{nothing}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Bool}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaSpace{}%
\AgdaInductiveConstructor{true}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Integer}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaSpace{}%
\AgdaDatatype{â„¤}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Nat}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{â„•}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Empty}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Unit}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaSpace{}%
\AgdaRecord{âŠ¤}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Product}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaRecord{Data-Implementation}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{State}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaRecord{State-Implementation}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{Language.Mini-Imp}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{ğ”¡}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Data-Implementation}\AgdaSpace{}%
\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{ğ”–}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{State-Implementation}\AgdaSpace{}%
\AgdaBound{ğ”¡}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Data-Implementation}\AgdaSpace{}%
\AgdaBound{ğ”¡}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Language.Expressions}\AgdaSpace{}%
\AgdaBound{ğ”¡}\AgdaSpace{}%
\AgdaBound{ğ”–}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{data}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPrimitiveType{Set}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaComment{-- Commands/Programs/Mechanisms/Statements}\<%
\\
%
\>[2]\AgdaComment{-- Defined as 'â†ªS' (read 'State transformer')}\<%
\\
%
\>[2]\AgdaComment{-- to emphasise all these different meanings}\<%
\\
%
\>[2]\AgdaKeyword{data}\AgdaSpace{}%
\AgdaDatatype{â†ªS}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPrimitiveType{Set}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaInductiveConstructor{ğ‘ ğ‘˜ğ‘–ğ‘}%
\>[10]\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{â†ªS}\<%
\\
%
\>[4]\AgdaOperator{\AgdaInductiveConstructor{ğ”´ğ”¥ğ”¦ğ”©ğ”¢\AgdaUnderscore{}ğ’¹â„´\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Exp}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{â†ªS}\<%
\\
%
\>[4]\AgdaOperator{\AgdaInductiveConstructor{ğ”¦ğ”£\AgdaUnderscore{}ğ”±ğ”¥ğ”¢ğ”«\AgdaUnderscore{}ğ”¢ğ”©ğ”°ğ”¢\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Exp}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{â†ªS}\<%
\\
%
\>[4]\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}:=\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Id}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Exp}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{â†ªS}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{â†ªS}\AgdaSpace{}%
\AgdaKeyword{public}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{data}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaComment{-- Terminator:}\<%
\\
%
\>[4]\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}Í¾}}%
\>[8]\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{â†ªS}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\<%
\\
%
\>[4]\AgdaComment{-- Separator:}\<%
\\
%
\>[4]\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}Í¾\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{â†ªS}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Block}\AgdaSpace{}%
\AgdaKeyword{public}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaComment{-- Program composition}\<%
\\
%
\>[2]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}ğ”±ğ”¥ğ”¢ğ”«\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaDatatype{Block}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{c}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Í¾}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«}}\AgdaSpace{}%
\AgdaBound{b}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{c}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Í¾}}\AgdaSpace{}%
\AgdaBound{b}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{c}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Í¾}}\AgdaSpace{}%
\AgdaBound{bâ‚}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«}}\AgdaSpace{}%
\AgdaBound{bâ‚‚}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{c}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Í¾}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{bâ‚}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«}}\AgdaSpace{}%
\AgdaBound{bâ‚‚}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaComment{-- Commutativity of program composition}\<%
\\
%
\>[2]\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«-comm}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{âˆ€}\AgdaSpace{}%
\AgdaBound{câ‚}\AgdaSpace{}%
\AgdaBound{câ‚‚}\AgdaSpace{}%
\AgdaBound{câ‚ƒ}\AgdaSpace{}%
\AgdaSymbol{â†’}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaBound{câ‚}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{câ‚‚}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«}}\AgdaSpace{}%
\AgdaBound{câ‚ƒ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{â‰¡}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{câ‚}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«}}\AgdaSpace{}%
\AgdaBound{câ‚‚}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«}}\AgdaSpace{}%
\AgdaBound{câ‚ƒ}\<%
\\
%
\>[2]\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«-comm}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{â†ªs}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Í¾}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{câ‚‚}\AgdaSpace{}%
\AgdaBound{câ‚ƒ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
%
\>[2]\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«-comm}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{â†ªs}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Í¾}}\AgdaSpace{}%
\AgdaBound{câ‚}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{câ‚‚}\AgdaSpace{}%
\AgdaBound{câ‚ƒ}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{ğ”±ğ”¥ğ”¢ğ”«-comm}\AgdaSpace{}%
\AgdaBound{câ‚}\AgdaSpace{}%
\AgdaBound{câ‚‚}\AgdaSpace{}%
\AgdaBound{câ‚ƒ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{infix}%
\>[9]\AgdaNumber{30}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{ğ”¦ğ”£\AgdaUnderscore{}ğ”±ğ”¥ğ”¢ğ”«\AgdaUnderscore{}ğ”¢ğ”©ğ”°ğ”¢\AgdaUnderscore{}}}\<%
\\
%
\>[2]\AgdaKeyword{infix}%
\>[9]\AgdaNumber{30}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{ğ”´ğ”¥ğ”¦ğ”©ğ”¢\AgdaUnderscore{}ğ’¹â„´\AgdaUnderscore{}}}\<%
\\
%
\>[2]\AgdaKeyword{infix}%
\>[9]\AgdaNumber{32}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}:=\AgdaUnderscore{}}}\<%
\\
%
\>[2]\AgdaKeyword{infixr}\AgdaSpace{}%
\AgdaNumber{18}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}Í¾\AgdaUnderscore{}}}\<%
\\
%
\>[2]\AgdaKeyword{infix}%
\>[9]\AgdaNumber{31}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}Í¾}}\<%
\\
%
\>[2]\AgdaKeyword{infixl}\AgdaSpace{}%
\AgdaNumber{16}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}ğ”±ğ”¥ğ”¢ğ”«\AgdaUnderscore{}}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaComment{-- Computation is a block of}\<%
\\
%
\>[2]\AgdaComment{-- State transformers}\<%
\\
%
\>[2]\AgdaFunction{C}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPrimitiveType{Set}\<%
\\
%
\>[2]\AgdaFunction{C}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaDatatype{Block}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\<%
\end{code}
